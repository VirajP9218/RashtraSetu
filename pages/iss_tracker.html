<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RashtraSetu - Issue Tracker</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f7f9fc;
    }

/* Header Background */
/* FIXED & IMPROVED SEARCH BAR */
.header-search {
  background: url('images/issTracker_img.jpeg') no-repeat center/cover;
  height: 250px;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 0 20px;
}

.search-box {
  display: flex;
  align-items: center;
  width: 70%;
  max-width: 700px;
  background: rgba(255, 255, 255, 0.9);
  border-radius: 50px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.15);
  padding: 5px;
}

.search-box input {
  flex: 1;
  padding: 14px;
  border: none;
  font-size: 16px;
  outline: none;
  border-radius: 50px;
  background: transparent;
}

.search-box button {
  padding: 12px 25px;
  border: none;
  background: #007bff;
  color: white;
  font-size: 16px;
  border-radius: 50px;
  cursor: pointer;
  transition: 0.3s;
}

.search-box button:hover {
  background: #005fcc;
}

/* ICON FIX */
.search-box i {
  margin-left: 12px;
  margin-right: 5px;
  color: #007bff;
}

    /* Filter Section */
    .filter-section {
      background: white;
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      margin-bottom: 40px;
    }

    /* Issue Cards */
    .issue-card {
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 3px 8px rgba(0,0,0,0.1);
      margin-bottom: 20px;
      transition: transform 0.2s;
    }
    .issue-card:hover {
      transform: translateY(-5px);
    }
    .status-open { color: #ff4d4d; font-weight: bold; }
    .status-progress { color: #ffa500; font-weight: bold; }
    .status-resolved { color: #28a745; font-weight: bold; }

    .issue-card .detail {
      font-size: 14px;
      color: #555;
    }
    .collapse.show {
      margin-top: 10px;
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
      .header-search input {
        width: 80%;
      }
    }
  </style>
</head>
<body>

  <!-- Header & Search -->
 <div class="header-search">
  <div class="search-box">
    <i class="fas fa-search"></i>
    <input id="searchInput" type="text" placeholder="Search Issue by ID or Title...">
    <button onclick="searchIssues()">Search</button>
  </div>
</div>


  <div class="container my-5">

    <!-- Page Title -->
    <h2 class="text-center mb-5">Issue Tracker</h2>

    <!-- Filter Section -->
    <div class="filter-section row g-3">
      <div class="col-md-3">
        <select id="statusFilter" class="form-select" onchange="filterIssues()">
          <option value="">All Status</option>
          <option value="Open">Open</option>
          <option value="In Progress">In Progress</option>
          <option value="Resolved">Resolved</option>
        </select>
      </div>
      <div class="col-md-3">
        <select id="categoryFilter" class="form-select" onchange="filterIssues()">
          <option value="">All Categories</option>
          <option value="Public Infrastructure">Public Infrastructure</option>
          <option value="Health">Health</option>
          <option value="Education">Education</option>
          <option value="Transport">Transport</option>
        </select>
      </div>
      <div class="col-md-3">
        <input type="text" id="areaFilter" class="form-control" placeholder="Filter by Area" onkeyup="filterIssues()">
      </div>
      <div class="col-md-3">
        <input type="text" id="officerFilter" class="form-control" placeholder="Filter by Officer" onkeyup="filterIssues()">
      </div>
    </div>

    <!-- Issue Cards Section -->
    <div class="row mt-4" id="issuesContainer">

      <!-- Example Card 1 -->
      <div class="col-md-6 issue-card" data-title="Street Light Not Working" data-status="Open" data-category="Public Infrastructure" data-area="MG Road, Mumbai" data-officer="Rajesh Kumar">
        <h5>Issue ID: #101 - Street Light Not Working</h5>
        <p class="detail"><strong>Category:</strong> Public Infrastructure</p>
        <p class="detail"><strong>Status:</strong> <span class="status-open">Open</span></p>
        <p class="detail"><strong>Area:</strong> MG Road, Mumbai</p>
        <p class="detail"><strong>Assigned Officer:</strong> Mr. Rajesh Kumar, Electric Dept.</p>
        <p class="detail"><strong>Working Details:</strong> Technician assigned, awaiting parts</p>
        <p class="detail"><strong>Date Reported:</strong> 3 Dec 2025</p>
        <a class="btn btn-sm btn-outline-primary" data-bs-toggle="collapse" href="#details1">View More</a>
        <div class="collapse mt-2" id="details1">
          <p>Additional notes: Residents reported light outage since 2 days, priority set as high.</p>
        </div>
      </div>

      <!-- Example Card 2 -->
      <div class="col-md-6 issue-card" data-title="Water Leakage in Pipeline" data-status="In Progress" data-category="Public Infrastructure" data-area="Andheri West, Mumbai" data-officer="Anjali Deshmukh">
        <h5>Issue ID: #102 - Water Leakage in Pipeline</h5>
        <p class="detail"><strong>Category:</strong> Public Infrastructure</p>
        <p class="detail"><strong>Status:</strong> <span class="status-progress">In Progress</span></p>
        <p class="detail"><strong>Area:</strong> Andheri West, Mumbai</p>
        <p class="detail"><strong>Assigned Officer:</strong> Ms. Anjali Deshmukh, Water Dept.</p>
        <p class="detail"><strong>Working Details:</strong> Excavation ongoing, repair team on site</p>
        <p class="detail"><strong>Date Reported:</strong> 4 Dec 2025</p>
        <a class="btn btn-sm btn-outline-primary" data-bs-toggle="collapse" href="#details2">View More</a>
        <div class="collapse mt-2" id="details2">
          <p>Additional notes: Traffic diversion in place, expected completion in 2 days.</p>
        </div>
      </div>

      <!-- Example Card 3 -->
      <div class="col-md-6 issue-card" data-title="School Building Repair" data-status="Resolved" data-category="Education" data-area="Pune City" data-officer="Vikram Patil">
        <h5>Issue ID: #103 - School Building Repair</h5>
        <p class="detail"><strong>Category:</strong> Education</p>
        <p class="detail"><strong>Status:</strong> <span class="status-resolved">Resolved</span></p>
        <p class="detail"><strong>Area:</strong> Pune City</p>
        <p class="detail"><strong>Assigned Officer:</strong> Mr. Vikram Patil, Education Dept.</p>
        <p class="detail"><strong>Working Details:</strong> Structural repair completed, safe for use</p>
        <p class="detail"><strong>Date Reported:</strong> 2 Dec 2025</p>
        <a class="btn btn-sm btn-outline-primary" data-bs-toggle="collapse" href="#details3">View More</a>
        <div class="collapse mt-2" id="details3">
          <p>Additional notes: Inspection completed by municipal authorities.</p>
        </div>
      </div>

    </div>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Filter & Search Function
    function filterIssues() {
      let status = document.getElementById('statusFilter').value.toLowerCase();
      let category = document.getElementById('categoryFilter').value.toLowerCase();
      let area = document.getElementById('areaFilter').value.toLowerCase();
      let officer = document.getElementById('officerFilter').value.toLowerCase();

      const issues = document.querySelectorAll('.issue-card');
      issues.forEach(issue => {
        let match = true;
        if(status && issue.dataset.status.toLowerCase() !== status) match = false;
        if(category && issue.dataset.category.toLowerCase() !== category) match = false;
        if(area && !issue.dataset.area.toLowerCase().includes(area)) match = false;
        if(officer && !issue.dataset.officer.toLowerCase().includes(officer)) match = false;
        issue.style.display = match ? 'block' : 'none';
      });
    }

    function searchIssues() {
      const query = document.getElementById('searchInput').value.toLowerCase();
      const issues = document.querySelectorAll('.issue-card');
      issues.forEach(issue => {
        const title = issue.dataset.title.toLowerCase();
        const id = issue.querySelector('h5').innerText.toLowerCase();
        issue.style.display = (title.includes(query) || id.includes(query)) ? 'block' : 'none';
      });
    }
  </script>
</body>
</html>